# ✅ 解决发件邮箱验证问题

## ❌ 当前错误

Brevo 错误信息：
```
Sending has been rejected because the sender you used noreply@brevo.com is not valid. 
Validate your sender or authenticate your domain.
```

**问题**: `noreply@brevo.com` 未验证，Brevo 拒绝发送邮件。

---

## ✅ 解决方案（两种选择）

### 方案 A: 验证 `noreply@brevo.com`（推荐）

**步骤**:

1. **访问 Brevo Dashboard**
   ```
   https://app.brevo.com/
   ```

2. **进入发件人设置**
   - 点击 **Settings** (右上角)
   - 选择 **Senders & IP**
   - 或直接访问: https://app.brevo.com/settings/senders

3. **添加发件人**
   - 点击 **"Add a sender"** 或 **"Create a sender"**
   - 输入邮箱: `noreply@brevo.com`
   - 或使用你的真实邮箱（推荐）

4. **验证邮箱**
   - Brevo 会发送验证邮件到该邮箱
   - 点击邮件中的验证链接
   - 验证成功后，邮箱状态会变为 **"Validated"** ✅

5. **重新测试**
   - 验证完成后，邮件就可以正常发送了

---

### 方案 B: 使用已验证的邮箱（如果已有）

如果你在 Brevo 中已经验证过其他邮箱：

1. **在 Brevo Dashboard 查看已验证的发件人**
   - Settings → Senders & IP
   - 找到状态为 **"Validated"** 的邮箱

2. **更新 Vercel 环境变量**
   ```
   BREVO_FROM_EMAIL=你已验证的邮箱@example.com
   ```

3. **重新部署**

---

## 🚀 快速操作步骤

### 立即操作（5 分钟）：

1. **访问**: https://app.brevo.com/settings/senders

2. **添加发件人**:
   - 输入邮箱地址（建议使用你的真实邮箱或公司邮箱）
   - 例如: `hello@yourdomain.com` 或 `noreply@yourdomain.com`
   - 如果使用 Gmail，可以输入: `lihongyangnju@gmail.com`（用于测试）

3. **验证邮箱**:
   - Brevo 会发送验证邮件
   - 点击邮件中的验证链接

4. **更新环境变量**:
   - 在 Vercel 中设置 `BREVO_FROM_EMAIL` = 你验证的邮箱

5. **重新测试**:
   - 验证完成后，邮件就可以发送了

---

## 💡 建议使用的邮箱

### 选项 1: 使用你的 Gmail（最快）
- 邮箱: `lihongyangnju@gmail.com`
- 优点: 立即验证，测试方便
- 缺点: 不太专业（仅测试用）

### 选项 2: 使用公司邮箱
- 邮箱: `hello@yourdomain.com`
- 优点: 专业，提高送达率
- 缺点: 需要域名

### 选项 3: 使用免费域名邮箱
- 如果你有域名，可以使用该域名的邮箱

---

## 📝 验证后的操作

验证完成后：

1. **更新 Vercel 环境变量**:
   ```
   BREVO_FROM_EMAIL=你验证的邮箱@example.com
   ```

2. **等待 Vercel 重新部署**（自动触发）

3. **重新测试发送**:
   ```bash
   node scripts/send-test-code.js
   ```

4. **验证成功标志**:
   - Brevo Dashboard 显示 "Sent"（无 Error）
   - 邮件正常送达收件箱

---

## 🎯 现在立即操作

**最快的解决方案**:

1. 访问: https://app.brevo.com/settings/senders
2. 添加发件人: `lihongyangnju@gmail.com`（用于测试）
3. 验证邮箱（检查邮件并点击链接）
4. 更新 `BREVO_FROM_EMAIL` 环境变量
5. 重新测试

**验证完成后告诉我，我们立即重新测试！**

