# 🔐 管理员密码问题排查指南

## 问题：密码错误

如果你看到"密码错误"提示，按以下步骤排查：

### 步骤 1: 检查 Vercel 环境变量

1. **访问 Vercel Dashboard**
   - 打开：https://vercel.com/dashboard
   - 选择你的项目（Citea）

2. **检查环境变量**
   - 点击 **Settings**（设置）
   - 点击 **Environment Variables**（环境变量）
   - 查找 `ADMIN_PASSWORD` 变量

3. **确认密码值**
   - 如果存在：复制密码值（注意不要有空格）
   - 如果不存在：需要添加（见步骤 2）

### 步骤 2: 设置/重置密码

#### 选项 A: 使用新密码（推荐）

1. **在 Vercel Dashboard 添加/修改环境变量**
   - 名称：`ADMIN_PASSWORD`
   - 值：输入你的新密码（例如：`MyNewPassword123!@#`）
   - 环境：选择 **Production**（生产环境）
   - 点击 **Save**（保存）

2. **重新部署**
   - 进入 **Deployments** 页面
   - 找到最新的部署
   - 点击 **...** (三个点)
   - 选择 **Redeploy**（重新部署）
   - 或等待自动部署（通常几秒钟）

3. **使用新密码登录**
   - 访问 `/admin/login`
   - 输入新设置的密码
   - 点击登录

#### 选项 B: 使用默认密码

如果你想使用默认密码 `admin123`：

1. **删除环境变量**（如果存在）
   - 在 Vercel Dashboard > Settings > Environment Variables
   - 找到 `ADMIN_PASSWORD`
   - 点击删除

2. **重新部署**
   - 重新部署项目（见上面步骤）

3. **使用默认密码登录**
   - 密码：`admin123`

### 步骤 3: 常见问题排查

#### 问题 1: 密码输入有空格

- ❌ 错误：` Lhy333222111... ` (前后有空格)
- ✅ 正确：`Lhy333222111...` (没有空格)

#### 问题 2: 大小写错误

- 确保密码的大小写完全匹配
- 如果密码是 `Lhy333222111...`，不要输入 `lhy333222111...`

#### 问题 3: 环境变量未生效

- 环境变量修改后需要重新部署
- 等待部署完成（通常 1-3 分钟）
- 清除浏览器缓存后重试

#### 问题 4: Cookie 问题

- 清除浏览器缓存和 Cookie
- 使用无痕模式重新登录
- 或使用不同浏览器测试

### 步骤 4: 验证密码

1. **确认环境变量已设置**
   - Vercel Dashboard > Settings > Environment Variables
   - 确认 `ADMIN_PASSWORD` 存在

2. **确认部署已完成**
   - Deployments 页面显示最新部署已完成
   - 状态为 "Ready"

3. **测试登录**
   - 访问 `/admin/login`
   - 输入密码
   - 如果仍然失败，继续排查

## 🚀 快速解决方案

### 如果你想快速重置密码：

1. **在 Vercel 设置新密码**
   ```
   ADMIN_PASSWORD=MyNewSecurePassword123!
   ```

2. **重新部署项目**

3. **使用新密码登录**

### 如果你想使用默认密码：

1. **删除 Vercel 中的 ADMIN_PASSWORD 环境变量**

2. **重新部署项目**

3. **使用 `admin123` 登录**

## 📞 需要帮助？

如果以上方法都不行，请检查：
- Vercel 部署日志（看是否有错误）
- 浏览器控制台（F12，看是否有错误）
- 网络连接是否正常






